
<!DOCTYPE html>
<html>
    <head>
        <title>响应数据变化</title>
        <script src="../src/vue.js"></script>
        <style>
         
        </style>
    </head>
    <body>
      <!--数据和模板--> 
      <div id = "app">
        <input type ="text" v-model="message" />
        <p>{{message}}</p>
        <p>{{message.split('').reverse().join('')}}</p>
        <p>{{newList}}</p>

        <p>{{reverseMessage}}</p>
      </div>
      <!--数据-->
      <script>
        /*
              计算属性：
                作用：把对处理数据的逻辑抽离在计算属性中，使得模板更加轻量易读；
                定义计算属性
                  computed

                     设置值
                     set()
                     取值
                     get()
            */
        let vm = new Vue({
          el:"#app",
          data:{
            message:"miaovketong",
            //在模板中把数组每一项*2，并且过滤小于10的
            
            list:[1,2,3,4,5]
          },

          computed:{ //计算属性挂在实例上
          //计算属性对应的函数this都指向实例
          //计算属性中依赖放生变化，data中的数据会重新变化
            reverseMessage(){
              //计算属性会把结果缓存，可在模板中重复使用
              console.log("我执行了一次");
              return this.message.split('').reverse().join('')
            },

            newList(){
              return this.list.map(item =>item*2).filter(item=>item <10);
            }
          }
        })
       </script>
    </body>
</html>